
<soda>
	<!--
		Action:
			1. Login to system as a valid user.
			2. Create a call by adding contacts as invitees and setting the
				call related to a record, such as setting the call related
				to a record in "Accounts" module.
			3. Click "Calls" link in navigation shortcuts.
		Expectation:
			3. The Contact and Related to columns are the selected ones in
				Call list view.

	-->
	<puts text="Test: Calendar_3746.xml starting." />
	
	<script file="{@global.scriptsdir}/modules/lib/Account_Create_Lib.xml" />
	<var var="account1_name" set="{@pre_account_name}" />
	
	<script file="{@global.scriptsdir}/modules/lib/Contact_Create_Lib.xml" />
	<var var="contact1_lname" set="{@pre_contact_last_name}" />
	<var var="contact1_fname" set="{@pre_contact_first_name}" />
	
	<link id="moduleTab_Calls" />
	<link text="Log Call" />
	
	<timestamp />
	<var var="call1_name" set="Call_{@stamp}" />
	
	<textfield id="name" set="{@call1_name}" />
	<select id="parent_type" set="Account" />
	<button id="btn_parent_name" />
	<wait timeout="3" />
	
	<textfield id="name_advanced" set="{@account1_name}" />
	<button value="Search" />
	<table class="list view">
		<link text="{@account1_name}" />
	</table>
	<wait timeout="3" />
	
	<textfield name="search_first_name" set="{@contact1_fname}" />
	<button value="Search" />

	<div id="list_div_win">
		<button value="Add" click="true" />
		<button value="Add" jscriptevent="onmouseup" />
	</div>
	<button value="Save" />
	
	<wait timeout="3" />
	
	<link id="moduleTab_Calls" />
	
	<table class="list view">
		<browser assert="{@contact1_fname} {@contact1_lname}" />
		<browser assert="{@account1_name}" />
	</table>
	
	<script file="{@global.scriptsdir}/modules/lib/Account_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Contact_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Call_Delete_Lib.xml" />
	
	<puts text="Test: Calendar_3746.xml finished." />
</soda>
