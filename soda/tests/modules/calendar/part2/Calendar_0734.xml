
<soda>
	<!--
		Action:
			1. Login to system as a valid user.
			2. Click "Calendar" navigation tab.
			3. Click "Day" button on "Calendar" page.
		Expectation:
			3. Start Day in current day's call/meeting are
				displayed in Current Day Calendar panel.
	-->
	<puts text="Test: Calendar_0734.xml starting." />
	
	<!-- create a call for today -->
	
	<timestamp />
	<link id="moduleTab_Calls" />
	<link text="Log Call" />

	<csv file="{@global.scriptsdir}/modules/lib/Call_Create_Lib.csv" var="call_record">
		<textfield id="name" set="{@call_record.name} {@user.name} {@stamp}" />

		<textfield name="duration_hours" set="{@call_record.duration_hours}" />
		<select name="duration_minutes" set="{@call_record.duration_minutes}" />

		<select id="direction" set="{@call_record.direction}" />
		<select id="status" set="{@call_record.status}" />

		<checkbox name="reminder_checked" set="{@call_record.reminder_checked}" />
		<textfield id="description" set="{@call_record.description}" />

		<button value="Save" />
		
		<browser assert="{@call_record.name} {@user.name} {@stamp}" />

		<var var="pre_call_name" set="{@call_record.name} {@user.name} {@stamp}" />
	</csv>
	

	
	<!-- now make a meeting (for today) -->
	<timestamp />
		<link id="moduleTab_Meetings" />
		<link text="Schedule Meeting" />
		<csv file="{@global.scriptsdir}/modules/lib/Meeting_Create_Lib.csv" var="meeting_record">
			<textfield id="name" set="{@meeting_record.name} {@user.name} {@stamp}" />
			<textfield id="location" set="{@meeting_record.location}" />
			<textfield id="description" set="{@meeting_record.description}" />
			<select id="status" set="{@meeting_record.status}" />
			
			<select id="date_start_hours" set="{@meeting_record.date_start_hours}" />
			<select id="date_start_minutes" set="{@meeting_record.date_start_minutes}" />
			<textfield name="duration_hours" set="{@meeting_record.duration_hours}" />
			<select name="duration_minutes" set="{@meeting_record.duration_minutes}" />
			<checkbox name="reminder_checked" set="{@meeting_record.reminder_checked}" />


			<button value="Save" />

			<browser assert="{@meeting_record.name} {@user.name} {@stamp}" />

			<!--Save the account id & name-->
			<form name="DetailView">
				<hidden name="record" var="pre_meeting_id" />
			</form>
			<var var="pre_meeting_name" set="{@meeting_record.name} {@user.name} {@stamp}" />
		</csv>
	
	
	
	<!-- now check for calendar presence -->
	
	<link id="moduleTab_Calendar" />
	
	<button value=" Day " />
	
	<table id="daily_cal_table_outside">
		<browser assert="{@call_record.status}: {@pre_call_name}" />
		<browser assert="{@meeting_record.status}: {@pre_meeting_name}" />
	</table>
	

	<script file="{@global.scriptsdir}/modules/lib/Call_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Meeting_Delete_Lib.xml" />
	
	<puts text="Test: Calendar_0734.xml finished." />
</soda>
