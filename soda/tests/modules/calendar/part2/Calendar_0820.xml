
<soda>
	<!--
		Action:
		1. Login to system as a valid user.
		2. Go to call list view.
		3. Click a call to go to detail view.
		4. Click a parent object. For example, click on a contact.
		5. On contact's detail view. Remove relationship by deleting call from Activities list.
		6. Go back to call list view.
		Expectations:
		6. No notice or error is displayed in the call list view.
	-->
	<puts text="Test: Calendar_0820.xml starting." />

	
	<script file="{@global.scriptsdir}/modules/lib/Contact_Create_Lib.xml" />
	<var var="contact_name" set="{@pre_contact_first_name} {@pre_contact_last_name}" />
	
	<timestamp />
	<link id="moduleTab_Calls" />
	<link text="Log Call" />

	<csv file="{@global.scriptsdir}/modules/lib/Call_Create_Lib.csv" var="call_record">
	</csv>
		<var var="call_name" set="{@call_record.name} {@user.name} {@stamp}" />
		
		<textfield id="name" set="{@call_record.name} {@user.name} {@stamp}" />

		<select id="parent_type" set="Contact" />
		<textfield id="parent_name" set="{@contact_name}" jscriptevent="onkeydown" />
		<textfield id="parent_name" jscriptevent="onkeyup" click="false" />
		<wait timeout="3" />
		
		<textfield id="date_start_date" set="{@call_record.date_start_date}" />
		<select id="date_start_hours" set="{@call_record.date_start_hours}" />
		<select id="date_start_minutes" set="{@call_record.date_start_minutes}" />

		<textfield name="duration_hours" set="{@call_record.duration_hours}" />
		<select name="duration_minutes" set="{@call_record.duration_minutes}" />

		<select id="direction" set="{@call_record.direction}" />
		<select id="status" set="{@call_record.status}" />

		<checkbox name="reminder_checked" set="{@call_record.reminder_checked}" />
		<textfield id="description" set="{@call_record.description}" />

		<button value="Save" />

	<link id="moduleTab_Contacts" />
	<table class="list view">
		<link text="{@contact_name}" />
		<link text="rem" alert="true" />
	</table>
	
	<link id="moduleTab_Calls" />
	<browser assertnot="Warning" />
	<browser assertnot="Error" />
	<browser assertnot="Notice" />
	
	
	<script file="{@global.scriptsdir}/modules/lib/Call_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Contact_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Account_Delete_Lib.xml" />
	
	<puts text="Test: Calendar_0820.xml finished." />
</soda>
