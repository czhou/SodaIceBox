
<soda>
	<puts text="Lib: Email_InboundAccount_Create_Lib.xml starting." />

	<link text="Admin" />

	<link text="Inbound Email" />
	<link text="New Group Mail Account"/>
	<browser assert="Group Mail Account"/>

	<csv file="{@global.scriptsdir}/modules/lib/Email_InboundAccount_Create_Lib.csv" var="Email_InboundAccount">
		<link text="New Group Mail Account"/>
		<browser assert="Group Mail Account"/>

		<textfield name="name" set="{@Email_InboundAccount.name}"/>
		<textfield id="server_url" set="{@Email_InboundAccount.server_url}"/>
		<select id="protocol" set="{@Email_InboundAccount.protocol}"/>
		<textfield id="port" set="{@Email_InboundAccount.port}"/>
		<checkbox id="ssl" set="{@Email_InboundAccount.ssl}"/>

		<select name="status" set="{@Email_InboundAccount.status}"/>
		<textfield name="email_user" set="{@Email_InboundAccount.email_user}"/>
		<textfield id="email_password" set="{@Email_InboundAccount.email_password}"/>
		<textfield id="mailbox" set="{@Email_InboundAccount.mailbox}"/>

		<textfield id="trashFolder" set="{@Email_InboundAccount.trashFolder}"/>

		<textfield id="EditView_team_name_collection_0" set="{@Email_InboundAccount.team_name_collection_0}"/>

		<textfield id="from_name" set="{@Email_InboundAccount.from_name}"/>
		<textfield id="from_addr" set="{@Email_InboundAccount.from_addr}"/>
		<checkbox id="allow_outbound_group_usage" set="{@Email_InboundAccount.allow_outbound_group_usage}"/>
			
		<!--Test settings-->
		<form id="EditView">
			<button name="button" value="  Test Settings  "/>
		</form>
		<wait timeout="15"/>
		<div id="testSettingsMsg">
			<browser assert="Connection completed successfully"/>
		</div>
		<link class="container-close" text="Close"/>

		<!--Save settings-->
		<form id="EditView">
			<button name="button" value="  Save  "/>
		</form>
	</csv>

	<puts text="Lib: Email_InboundAccount_Create_Lib.xml finished." />
</soda>
