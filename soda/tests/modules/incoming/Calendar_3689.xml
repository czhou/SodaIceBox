
<soda>
	<!--
		Action:
			Verify that a call is not scheduled by edit view
			when non-existing record for field is entered
			(For example, "Assigned to", "Team" text field.).

		Expectation:
			1. Call is not scheduled.
	-->
	
	<puts text="Test: Calendar_3689.xml starting." />

	<timestamp />
	<link id="moduleTab_Calls" />
	<link text="Log Call" />

	<csv file="{@global.scriptsdir}/modules/lib/Call_Create_Lib.csv" var="call_record" />
		<textfield id="name" set="{@call_record.name} {@user.name} {@stamp}" />

		<textfield id="date_start_date" set="{@call_record.date_start_date}" />
		<select id="date_start_hours" set="{@call_record.date_start_hours}" />
		<select id="date_start_minutes" set="{@call_record.date_start_minutes}" />

		<textfield name="duration_hours" set="{@call_record.duration_hours}" />
		<select name="duration_minutes" set="{@call_record.duration_minutes}" />

		<select id="direction" set="{@call_record.direction}" />
		<select id="status" set="{@call_record.status}" />

		<checkbox name="reminder_checked" set="{@call_record.reminder_checked}" />
		<textfield id="description" set="{@call_record.description}" />

		<textfield id="EditView_team_name_collection_0" set="Nonexistent {@stamp}" jscriptevent="onkeydown" />
		<textfield id="EditView_team_name_collection_0" jscriptevent="onkeyup" click="false" />
		
		<var var="call1_name" set="{@call_record.name} {@user.name} {@stamp}" />

		<button value="Save" />
		
		<div id="LBL_PANEL_ASSIGNMENT">
			<browser assert="No Primary Team specified" />
		</div>
	
		<button id="CANCEL" alert="true" />
	
		<link id="moduleTab_Calls" />
		
		<table class="list view">
			<browser assertnot="{@call1_name}" />
		</table>
	
	<puts text="Test: Calendar_3689.xml finished." />
</soda>
