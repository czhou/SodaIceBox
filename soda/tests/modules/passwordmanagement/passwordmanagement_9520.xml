
<soda>
	
	<puts text="Test: PM_9520 Enable login again after (*)Minutes/Hours/Days" />

	<div id="globalLinks">
		<link text="Admin" />
	</div>
	<csv file="{@global.scriptsdir}/csvs/passwordmanagement/PM_9520.csv" var="pm9520" />	
	<link text="Password Management" />
	<table id="loginLockoutId">
		<browser assert="Login Lockout" />
		<radio id="required_lockout_exp_login" set="true" />
		<textfield name="passwordsetting_lockoutexpirationlogin" set="{@pm9520.attempts}" />
		<textfield name="passwordsetting_lockoutexpirationtime" set="{@pm9520.time}" />
	</table>
	<button id="btn_save" />
	<link id="logout_link" />
	<browser assert="Please enter your user name and password" />
	<csv file="{@global.scriptsdir}/csvs/passwordmanagement/PM_9520.csv" var="pm9520" >	
		<textfield id="user_name" set="{@pm9520.user}" />
		<textfield id="user_password" set="{@pm9520.pw}" />
		<button id="login_button" />
		<browser assert="You must specify a valid username and password" />
	</csv>
	<csv file="{@global.scriptsdir}/modules/lib/SugarInit_Lib.csv" var="SugarInit" />
	<textfield id="user_name" set="{@SugarInit.last_name}" />
	<textfield id="user_password" set="{@SugarInit.pass}" />
	<button id="login_button" />
	<browser assert="Too many failed login attempts" />
	<browser assert="You can try logging in again in {@pm9520.time}min" />
	<wait timeout="60" />
	<textfield id="user_name" set="{@SugarInit.last_name}" />
	<textfield id="user_password" set="{@SugarInit.pass}" />
	<button id="login_button" />
	<browser assert="Welcome, " />
	
	<script file="{@global.scriptsdir}/modules/lib/logout.xml" />
	<script file="{@global.scriptsdir}/modules/lib/login.xml" />

	<puts text="Test: PM_9520.xml finished." />
</soda>
