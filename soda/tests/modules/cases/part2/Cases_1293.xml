
<soda>
	<!-- Edit Scheduled Call: Verify that the information of a scheduled call for case cannot be modified when entering non-existing data (such as entering non-existing data in "Team" field) when using "Edit" function in "Activities" sub-panel. -->
	<puts text="Test: Cases_1293.xml starting." />
	<csv file="{@global.scriptsdir}/csvs/cases/CasesAssertText.csv" var="cases" />
	<timestamp />

	<!-- Create a case and go to its DetailView. -->
	<script file="{@global.scriptsdir}/modules/lib/Case_Create_Lib.xml" />
	<div class="moduleTitle">
		<link href="index.php?module=Cases&amp;action=index" click="false" />
	</div>

	<!-- Create a call. -->
	<csv file="{@global.scriptsdir}/csvs/cases/Case_1293.csv" var="Case_1293">
		<button id="Activities_logcall_button" />
		<wait timeout="3" />

		<form id="form_SubpanelQuickCreate_Calls">
			<textfield id="name" set="{@Case_1293.call_subject}" />
			<button id="Calls_subpanel_save_button" />
			<wait timeout="3" />
		</form>

		<!-- Edit the call. -->
		<div id="list_subpanel_activities">
			<table class="list view">
				<link text="edit" />
			</table>
		</div>
		<div class="moduleTitle">
			<link href="index.php?module=Calls&amp;action=index" click="false" exists="true" />
			<link text="{@Case_1293.call_subject}" click="false" exists="true" />
		</div>

		<!-- Set a non-existent team name. -->
		<textfield id="team_name_collection_0" click="true" />
		<textfield id="team_name_collection_0" set="{@Case_1293.call_team}" />
		<button value="Save" />
		
		<!-- Assert error messages. -->
		<browser assert="No Primary Team specified" />

		<button id="CANCEL" alert="true" />
	</csv>

	<!--Delete the record-->
	<script file="{@global.scriptsdir}/modules/lib/Case_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Call_Delete_Lib.xml" />

	<puts text="Test: Cases_1293.xml finished." />
</soda>
