
<soda>
	<!-- Edit Scheduled Meeting: Verify that an existing meeting in the Activities subpanel of a case cannot be saved when several required fields are changed to be empty. -->
	<puts text="Test: Cases_1291.xml starting." />
	<csv file="{@global.scriptsdir}/csvs/cases/CasesAssertText.csv" var="cases" />
	<timestamp />

	<!-- Create a case and go to its DetailView. -->
	<script file="{@global.scriptsdir}/modules/lib/Case_Create_Lib.xml" />
	<div class="moduleTitle">
		<link href="index.php?module=Cases&amp;action=index" click="false" />
	</div>

	<!-- Create a meeting. -->
	<csv file="{@global.scriptsdir}/csvs/cases/Case_1291.csv" var="Case_1291">
		<button id="Activities_schedulemeeting_button" />

		<form id="form_SubpanelQuickCreate_Meetings">
			<textfield id="name" set="{@Case_1291.meeting_subject}" />
			<button id="Meetings_subpanel_save_button" />
		</form>

		<!-- Edit the meeting. -->
		<div id="list_subpanel_activities">
			<table class="list view">
				<link text="edit" />
			</table>
		</div>
		<div class="moduleTitle">
			<link href="index.php?module=Meetings&amp;action=index" click="false" exists="true" />
			<link text="{@Case_1291.meeting_subject}" click="false" exists="true" />
		</div>

		<!-- Clear all required fields. -->
		<textfield id="name" set="" />
		<textfield id="date_start_date" set="" />
		<select id="date_start_hours" set="" />
		<select id="date_start_minutes" set="" />
		<textfield name="duration_hours" set="" />
		<select id="duration_minutes" set="15" /><!-- No blank value, so set the default. -->
		<image id="remove_team_name_collection_0" click="true" />
		
		<button value="Save" />
		
		<!-- Assert error messages. -->
		<browser assert="Missing required field: Subject" />
		<browser assert="Missing required field: Start Date" />
		<browser assert="Missing required field: Duration Hours" />
		<browser assert="No Primary Team specified" />

		<button id="CANCEL" alert="true" />
	</csv>

	<!--Delete the record-->
	<script file="{@global.scriptsdir}/modules/lib/Case_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Meeting_Delete_Lib.xml" />

	<puts text="Test: Cases_1291.xml finished." />
</soda>
