
<soda>
	<!--
		Create project_Verify that the new created project is displayed in "Projects" sub-panel of "Contact Detail View" page.
	-->
	<puts text="Test: Contacts_4375.xml starting." />
	<script file="{@global.scriptsdir}/modules/lib/Contact_Create_Lib.xml"/>

	<!-- *1* Go to Contact module -->
	<link id="moduleTab_Contacts" />
	<div class="moduleTitle">
		<link href="index.php?module=Contacts&amp;action=index" click="false" />
	</div>

	<!-- *2* Go to created record detail view-->
	<form id="search_form">
		<button name="clear" />
		<textfield id="search_name_basic" set="{@pre_contact_first_name}" />
		<button id="search_form_submit" />
	</form>

	<table class="list view">
		<link text="{@pre_contact_first_name} {@pre_contact_last_name}" />
	</table>
	<div class="moduleTitle">
		<link href="index.php?module=Contacts&amp;action=index" click="false" />
		<browser assert="{@pre_contact_first_name} {@pre_contact_last_name}" />
	</div>

	<!-- *3* Go to Project subpanel and try to create a project -->
	<div id="list_subpanel_project">
		<button id="projects_contacts_create_button" />
		<wait timeout="5" />
	</div>

	<div class="moduleTitle">
		<link href="index.php?module=Contacts&amp;action=index" click="false" />
		<browser assert="{@pre_contact_first_name} {@pre_contact_last_name}" />
	</div>

	<csv file="{@global.scriptsdir}/modules/lib/Project_Create_Lib.csv" var="Contact_4375">
		<form id="form_SubpanelQuickCreate_Project">
			<textfield id="name" set="{@Contact_4375.project_name}"/>
			<textfield id="estimated_start_date" set="{@Contact_4375.start_date}"/>
			<textfield id="estimated_end_date" set="{@Contact_4375.end_date}"/>
			<textfield id="description" set="{@Contact_4375.description}"/>
			<select id="status" set="{@Contact_4375.status}"/>
			<select id="priority" set="{@Contact_4375.priority}"/>
			
			<button id="Project_subpanel_save_button"/>
			<wait timeout="5"/>
		</form>
	</csv>

	<!-- *4* Check new project show in Projects subpanel-->
	<div id="list_subpanel_project">
		<browser assert="{@Contact_4375.start_date}"/>
		<browser assert="{@Contact_4375.end_date}"/>
		<link text="{@Contact_4375.project_name}" click="false" exists="true"/>
	</div>

	<!-- Cleanup: Delete test data. -->
	<script file="{@global.scriptsdir}/modules/lib/Contact_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Project_Delete_Lib.xml" />

	<puts text="Test: Contacts_4375.xml finished." />
</soda>
