
<soda>

	<puts text="Test Case 2580: Relationship - Edit Contract_Verify that modifying 'Contracts' can be successful canceled on the 'Contracts' sub-panel."/>

	<csv file="{@global.scriptsdir}/csvs/quote/Quote_2565.csv" var="Quote_2565">

		<link href="index.php?module=Quotes&amp;action=index" />
		<wait timeout="5" />
		<link text="Basic Search" required="false" />
		<button id="search_form_clear" />
		<textfield id="name_basic" set="{@pre_Quote_name}" />
		<button id="search_form_submit" />

		<table class="list view">
			<browser assert="{@pre_Quote_name}" />
			<link text="{@pre_Quote_name}" click="true" />
		</table>
		<table id="detailpanel_1">
			<browser assert="{@pre_Quote_name}" />
		</table>
		<div id="list_subpanel_contracts">
			<table class="list view">
				<button id="contracts_quotes_create_button" />
				<wait timeout="3" />
			</table>
		</div>

		<!--Opportunity select -->
		<button id="btn_opportunity_name" />
		<wait timeout="2" />
		<browser assert="Opportunity Search" />
		<textfield name="name_advanced" set="{@pre_opp_name}" />
		<button value="Search" />
		<table class="list view">
			<link text="{@pre_opp_name}" />
		</table>

		<form id="form_SubpanelEditView_Contracts">
			<textfield name="name" set="{@Contract_Create_Lib}" />
			<select id="status" set="{@Quote_2565.contract_status}" />
			<button id="Contracts_subpanel_save_button" />
		</form>

		<div id="list_subpanel_contracts">
			<table class="list view">
				<link text="{@Contract_Create_Lib}" click="false" />
			</table>
		</div>
		
		<!--Edit Contract record-->
		<div id="list_subpanel_contracts">
			<link class="listViewTdToolsS1" index="1"/>
			<wait timeout="3"/>
		</div>

		<browser assert="Contract Overview"/>
		
		<textfield id="name" set="Modified Contract Record"/>
		<button id="CANCEL_HEADER" alert="true"/>
		<wait timeout="5"/>

		<div id="list_subpanel_contracts">
			<link text="{@Contract_Create_Lib}" click="false"/>
		</div>

		<!--Delete the contract record created in this case-->
		<div id="list_subpanel_contracts">
			<link text="{@Contract_Create_Lib}"/>
		</div>
		
		<browser assert="Contract Overview"/>
		<button value="Delete" alert="true"/>
		<wait timeout="3"/>
	</csv>

	<puts text="Test: Quote_2580.xml finished" />
</soda>
