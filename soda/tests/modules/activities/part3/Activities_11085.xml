
<soda>
	<!--
		Action:
			a)    Login Sugar CRM as a valid user
			b)    Go to in ListView/Subpanel/Dashlets that has Call/Meeting
			c)    Try to close this task by click “X” button
			d)    Select “OK” from pop up message window
		Expectation:
			a) For action(c), show pop up message window as 
				"Are you sure you want to close this Call/Meeting"
			b) For action(d), selected Call/Meeting be marked
				as held and disappear from Activities subpanel list view
				But they will be shown in History subpanel
				/* Franklin 02/17/2011: 6.1.3 */
	-->
	<puts text="Test: Activities_11085.xml starting." />

	<!-- set up environment for Dashlet -->
	
	<script file="{@global.scriptsdir}/modules/lib/Call_Create_Lib.xml" />
	<var var="call1_name" set="{@pre_call_name}" />
	
	<script file="{@global.scriptsdir}/modules/lib/Meeting_Create_Lib.xml" />
	<var var="meeting1_name" set="{@pre_meeting_name}" />
	
	<link id="moduleTab_Home" />
	
	<ul id="col_0_0">
		<table class="list view" index="1">
			<link index="4" />
		</table>
	</ul>
	
	<div id="closeActivityDialog">
		<browser assert="Do you want to close this call?" />
		<button value="OK" />
	</div>
	
	<wait timeout="20" />
	
	<ul id="col_0_0">
		<table class="list view" index="1">
			<browser assertnot="{@call1_name}" />
		</table>
	</ul>
	
	<!-- now for the meeting -->
	
	<ul id="col_0_0">
		<table class="list view" index="2">
			<link index="3" />
		</table>
	</ul>
	
	<browser assert="Do you want to close this meeting?" />
	<div id="closeActivityDialog">
		<browser assert="Do you want to close this meeting?" />
		<button value="OK" />
	</div>
	
	<wait timeout="20" />
	
	<ul id="col_0_0">
		<table class="list view" index="2">
			<browser assertnot="{@meeting1_name}" />
		</table>
	</ul>
	
	<script file="{@global.scriptsdir}/modules/lib/Meeting_Delete_Lib.xml" />
	<script file="{@global.scriptsdir}/modules/lib/Call_Delete_Lib.xml" />
	
	<puts text="Test: Activities_11085.xml finished." />
</soda>
