
<soda>
	<puts text="Test Case 244: Account Detail - Activities sub-panel - Edit Call_Verify that error message 'Missing required field: Subject' is displayed when editing related 'Schedule Call' with mandatory fields blank."/>

	<!--Create a account record-->
	<script file="{@global.scriptsdir}/modules/lib/Account_Create_Lib.xml" />

	<!--Search the record-->
	<link id="moduleTab_Accounts" />
	<div class="moduleTitle">
		<link href="index.php?module=Accounts&amp;action=index" click="false" />
	</div>
	<button id="search_form_clear" />
	<textfield id="name_basic" set="{@pre_account_name}" />
	<button id="search_form_submit" />
	<table class="list view">
		<link text="{@pre_account_name}" />
	</table>

	<!--Create Schedule Meeting-->
	<browser assert="{@pre_account_name}" />
	<button value="  Log Call  " />
	<csv file="{@global.scriptsdir}/csvs/accounts/Accounts_0214.csv" var="call_record_0214">
		<textfield id="name" set="{@call_record_0214.name} {@stamp}" />
		<textfield id="date_start_date" set="{@currentdate}" />
		<textfield id="description" set="{@call_record_0214.description}" />

		<select id="date_start_hours" set="{@call_record_0214.date_start_hours}" />
		<select id="date_start_minutes" set="{@call_record_0214.date_start_minutes}" />
		<select name="duration_minutes" set="{@call_record_0214.duration_minutes}" />
		<select id="status" set="{@call_record_0214.status}" />

		<button id="Calls_subpanel_save_button" />
	</csv>

	<wait />
	<div id="list_subpanel_activities">
		<span class="pageNumbers" assert="(1 - 1 of 1)" />
		<link class="listViewTdToolsS1" index="1" click="true"/>
	</div>

	<!-- Edit button opens in-place now, so navigate to Full Form. -->
	<button id="Calls_subpanel_full_form_button" />

	<textfield id="name" set=""/>
	<button value="Save"/>
	<browser assert="Missing required field: Subject"/>
	<button id="CANCEL" alert="true"/>

	<!--Save the subpanel task id & name-->
	<form name="DetailView">
		<hidden name="record" var="pre_activity_call_subpanel_id" />
	</form>
	<var var="pre_activity_call_subpanel_name" set="{@call_record_0214.name} {@stamp}" />
	
	<!--Delete the record-->
	<script file="{@global.scriptsdir}/modules/lib/Call_Delete_Lib.xml" />
	<puts text="Test: Accounts_0214.xml finished." />
</soda>
