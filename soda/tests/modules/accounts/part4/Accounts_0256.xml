
<soda>
	<puts text="Test Case 256: Account Detail - Opportunities sub-panel - Edit _Verify that error message 'Missing required field: Name' is displayed when editing related 'Opportunities' with mandatory fields blank."/>

	<!--Create a account record-->
	<script file="{@global.scriptsdir}/modules/lib/Account_Create_Lib.xml" />

	<!--Search the record-->
	<link id="moduleTab_Accounts" />
	<link href="index.php?module=Accounts&amp;action=index" click="false" />

	<textfield id="name_basic" set="{@pre_account_name}" />
	<button id="search_form_submit" />
	<table class="list view">
		<link text="{@pre_account_name}" />
	</table>

	<!--Go its detail view-->
	<browser assert="{@pre_account_name}" />

	<!--Create Opportunity Subpanel-->
	<button name="accounts_opportunities_create_button" />
	<csv file="{@global.scriptsdir}/csvs/accounts/Accounts_0043.csv" var="opp_record_0043">
		<form id="form_SubpanelQuickCreate_Opportunities">
			<select name="currency_id" set="{@opp_record_0043.currency_id}" />
			<select id="opportunity_type" set="{@opp_record_0043.opportunity_type}" />
			<textfield id="next_step" set="{@opp_record_0043.next_step}" />
			<select id="sales_stage" set="{@opp_record_0043.sales_stage}" />
			<select id="lead_source" set="{@opp_record_0043.lead_source}" />
			<textfield id="probability" set="{@opp_record_0043.probability}" />
		</form>
		<!--teams select-->
		<table id="form_SubpanelQuickCreate_Opportunities_team_name_table">
			<button value="Select" />
		</table>
		<browser assert="Team Search" />
		<textfield name="name" set="{@opp_record_0043.team_name}" />
		<button value="Search" />
		<link text="{@opp_record_0043.team_name}" />

		<button id="Opportunities_subpanel_save_button" alert="true"/>

		<!--Verify-->
		<browser assert="Missing required field: Opportunity Name"/>
		<browser assert="Missing required field: Opportunity Amount"/>
		<browser assert="Missing required field: Expected Close Date"/>
		<button id="Opportunities_subpanel_cancel_button"/>
		<div id="list_subpanel_opportunities">
			<table class="list view">
				<link text="{@opp_record_0043.name} {@user.name} {@stamp}" exist="false" click="false" />
			</table>
		</div>
	</csv>
	<script file="{@global.scriptsdir}/modules/lib/Account_Delete_Lib.xml" />
	<puts text="Test: Accounts_0256.xml is Finished" />
</soda>
