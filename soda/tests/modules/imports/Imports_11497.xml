
<soda>
	<puts text="Test Case 11497: Verify delimiter can be detected from Tab separator file."/>

	<link id="moduleTab_Contacts" />
	<csv file="{@global.scriptsdir}/csvs/imports/Imports_11497.csv" var="import_11497">

		<link text="Import Contacts" />

		<!--Step1-->
		<div class="moduleTitle">
			<browser assert="Step 1: Select Data Source" />
		</div>
		<button id="gonext"/>

		<!--Step2-->
		<div class="moduleTitle">
			<browser assert="Step 2: Upload Import File" />
		</div>

		<filefield name="userfile" set="{@global.scriptsdir}/csvs/imports/Imports_11497.csv" />
		<button id="gonext" />
		<wait timeout="5" />

		<!--Step3-->
		<div class="moduleTitle">
			<browser assert="Step 3: Confirm Import File Properties" />
		</div>

		<button id="toggleImportOptions" />
		<textfield id="custom_delimiter" assert="	"/>

		<button id="gonext" />
	
		<!--Step4-->
		<div class="moduleTitle">
			<browser assert="Step 4: Confirm Field Mappings" />
		</div>
		<button id="gonext" />
		<wait timeout="5" />
		
		<!--Step5-->
		<button id="importnow" />
		<wait timeout="10" />

		<!--Step6-->
		<div class="moduleTitle">
			<browser assert="Step 6: View Import Results" />
		</div>

		<!--Search the record to assert import successfully -->
		<link id="moduleTab_Contacts" />
		<div class="moduleTitle">
			<link href="index.php?module=Contacts&amp;action=index" click="false" />
		</div>

		<textfield id="search_name_basic" set="{@import_11497.last_name}" />
		<button id="search_form_submit" />
		<table class="list view">
			<link text="{@import_11497.first_name} {@import_11497.last_name}" />
		</table>
	</csv>

	<!--Delete the record-->
	<script file="{@global.scriptsdir}/modules/lib/Contact_Delete_Lib.xml" />
	<puts text="Test: Imports_11497.xml finished." />
</soda>
